<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>OR40 RESULT</title>

<style>
/* =========================
   固定パラメータ
   ========================= */
:root{
  --w: 1920px;
  --h: 4615px;        /* rank.png の実高さ */
  --scale: 0.234;    /* 1080 / 4615 = 0.234 */
}

/* =========================
   ベース
   ========================= */
body{
  margin: 0;
  background: #000;
  overflow: hidden;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
}

/* 表示領域（OBS 1920×1080） */
.viewport{
  width: 1920px;
  height: 1080px;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
}

/* 中身（実サイズ基準） */
.board{
  position: relative;
  width: var(--w);
  height: var(--h);
  transform: scale(var(--scale));
  transform-origin: top left;
}

/* 順位表画像 */
.board-img{
  width: var(--w);
  height: var(--h);
  display: block;
}

/* =========================
   帯（1～10位）
   ========================= */
.cover{
  position: absolute;
  left: 0;
  right: 0;
  border: none;
  padding: 0;
  cursor: pointer;

  background-image: url("result/bg.png");
  background-repeat: no-repeat;
  background-size: var(--w) var(--h);

  transition: opacity .15s;
}

.cover.open{
  opacity: 0;
  pointer-events: none;
}

/* =========================
   ジャンプボタン
   ========================= */
.jump-nav{
  position: absolute;
  top: 12px;
  left: 12px;
  z-index: 1000;
}

.jump-nav button{
  display: block;
  margin-bottom: 6px;
  padding: 8px 14px;
  font-size: 14px;
  font-weight: 700;
  cursor: pointer;
  border: none;
}
</style>
</head>

<body>

<div class="viewport" id="viewport">

  <!-- ジャンプボタン -->
  <div class="jump-nav">
    <button data-jump="pos11">11位～</button>
    <button data-jump="pos21">21位～</button>
    <button data-jump="pos31">31位～</button>
  </div>

  <div class="board" id="board">

    <!-- 順位表 -->
    <img class="board-img" src="result/rank.png" alt="順位表">

    <!-- ===== 1～10位 帯 ===== -->
    <button class="cover" style="top:408px; height:77px;"></button>
    <button class="cover" style="top:491px; height:77px;"></button>
    <button class="cover" style="top:575px; height:77px;"></button>
    <button class="cover" style="top:658px; height:77px;"></button>
    <button class="cover" style="top:741px; height:77px;"></button>
    <button class="cover" style="top:825px; height:74px;"></button>
    <button class="cover" style="top:908px; height:74px;"></button>
    <button class="cover" style="top:992px; height:74px;"></button>
    <button class="cover" style="top:1075px; height:74px;"></button>
    <button class="cover" style="top:1158px; height:74px;"></button>

    <!-- ===== ジャンプ先（実座標） ===== -->
    <div id="pos11" style="position:absolute; top:1350px;"></div>
    <div id="pos21" style="position:absolute; top:2650px;"></div>
    <div id="pos31" style="position:absolute; top:3950px;"></div>

  </div>
</div>

<script>
/* =========================
   帯：背景位置合わせ
   ========================= */
document.querySelectorAll('.cover').forEach(c=>{
  const top = parseFloat(getComputedStyle(c).top);
  c.style.backgroundPosition = `0px ${-top}px`;
  c.addEventListener('click', ()=> c.classList.add('open'));
});

/* =========================
   ジャンプ（scale補正込み）
   ========================= */
const viewport = document.getElementById('viewport');
const board   = document.getElementById('board');
const scale   = parseFloat(getComputedStyle(document.documentElement)
                  .getPropertyValue('--scale'));

document.querySelectorAll('.jump-nav button').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    const target = document.getElementById(btn.dataset.jump);
    const y = target.offsetTop * scale;
    viewport.scrollTo({ top: y, behavior: 'auto' });
  });
});
</script>

</body>
</html>
